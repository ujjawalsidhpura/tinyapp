<!-- Standard Header element for all pages for tinyApp -->

<header>
  <nav class="navbar navbar-expand-md navbar-dark bg-primary">

    <a class="navbar-brand" href="/urls">TinyApp</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link" href="/urls">My URLs</a>
        <% if(user) { %> 
        <a class="nav-item nav-link" href="/urls/new">Create New URL</a>
        <% } else { %> 
          <a class="nav-item nav-link" href="/login">Create New URL</a>
          <% } %> 

      </div>
    </div>
    
    <!-- TO check if user is present, if present welcome or else register -->

    <% if(!user) { %>
      
      <!-- Login Form -->
      <form class="form-inline" action="/login" method="GET">
        <div class="form-group mb-2">
        
          <button type="submit" class="btn btn-warning mr-3 font-weight-bold">
            Login
          </button>
        </div>
      </form>

      <form class="form-inline" action="/logout" method="POST">
        <div class="form-group mb-2">
        
          <button type="submit" class="btn mr-3 btn-warning font-weight-bold">
            Logout
          </button>

        </div>
      </form>

      <!-- Registration Form Redirection Button  -->
      <form class="form-inline" action="/register" method="GET">
        <div class="form-group mb-2">
        
          <button type="submit" class="btn mr-3 btn-success font-weight-bold">
            Register
          </button>

        </div>
      </form>

      <% } else { %>
        <!-- LogOut form -->
        <form class="form-inline" action="/logout" method="POST" name="logout">
          <div class="form-group mb-2">
            <label class="form-control mr-3 font-weight-bold" for="logout"> Welcome <%= user.email %>
            </label>
    
            <button type="submit" class="btn btn-warning mr-3 font-weight-bold">
             Log Out
            </button>
          </div>
        </form>
        <% } %> 
  </nav>
</header>